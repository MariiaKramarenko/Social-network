{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/Message/Message.jsx","components/Dialogs/DialogItem/DiialogItem.jsx","components/Dialogs/AddMessageForm/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","Message","props","className","s","message","DialogItem","path","id","dialog","active","to","name","reduxForm","maxLengthCreator","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","Dialogs","state","dialogsPage","dialogsElements","dialogs","map","d","key","massagesElements","messages","m","newMessageBody","React","createRef","isAuth","dialogsItems","values","sendMessage","compose","connect","dispatch","sendMessageCreator","withAuthRedirect"],"mappings":"uGACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,2B,8ECSpMC,EANC,SAACC,GACb,OACI,yBAAKC,UAAWC,IAAEC,SAAlB,IAA6BH,EAAMG,U,QCU5BC,EAZI,SAACJ,GAEnB,IAAIK,EAAM,YAAcL,EAAMM,GAE9B,OACO,yBAAKL,UAAWC,IAAEK,OAAS,GAAKL,IAAEM,QACrC,kBAAC,IAAD,CAASC,GAAIJ,GAAOL,EAAMU,Q,mDCgBhBC,GArBKC,YAAiB,IAqBtBD,YAAU,CAACE,KAAK,wBAAhBF,EAnBQ,SAACX,GACpB,OACG,0BAAMc,SAAUd,EAAMe,cACrB,6BACI,kBAACC,EAAA,EAAD,CACAC,UAAWC,IACXC,SAAU,CAACC,KACXV,KAAM,iBACNW,YAAa,wBAGjB,6BACI,sDCqBGC,EA9BC,SAACtB,GAGb,IAAIuB,EAAQvB,EAAMwB,YACdC,EAAkBF,EAAMG,QAAQC,KAAK,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAAalB,KAAMkB,EAAElB,KAAOmB,IAAKD,EAAEtB,GAAIA,GAAIsB,EAAEtB,QAEvFwB,EAAmBP,EAAMQ,SAASJ,KAAK,SAAAK,GAAC,OAAI,kBAAC,EAAD,CAAS7B,QAAU6B,EAAE7B,QAAS0B,IAAKG,EAAE1B,QAChEiB,EAAMU,eACHC,IAAMC,YAO9B,OAAKnC,EAAMoC,OAEb,yBAAKnC,UAAWC,IAAEwB,SACjB,yBAAKzB,UAAWC,IAAEmC,cACJZ,GAEX,yBAAKxB,UAAWC,IAAE6B,UACPD,EACL,kBAAC,EAAD,CAAgBhB,SAZJ,SAACwB,GACjBtC,EAAMuC,YAAYD,EAAOL,qBAGH,kBAAC,IAAD,CAAUxB,GAAG,Y,uBCoB5B+B,sBACbC,aAlCmB,SAAClB,GACnB,MAAO,CACJC,YAAaD,EAAMC,gBAIA,SAACkB,GACtB,MAAO,CACJH,YAAa,SAACN,GACbS,EAASC,YAAmBV,SA0BlCW,IAFaJ,CAGXlB","file":"static/js/4.6fb62626.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__9pTr6\",\"dialogsItems\":\"Dialogs_dialogsItems__2R6tV\",\"dialog\":\"Dialogs_dialog__1LeSM\",\"active\":\"Dialogs_active__3bbsW\",\"messages\":\"Dialogs_messages__1zqfK\",\"message\":\"Dialogs_message__3jnJn\"};","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\n\r\n\r\nconst Message = (props) =>{\r\n    return(\r\n        <div className={s.message}> {props.message}</div>\r\n    \t)\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst DialogItem = (props) => {\r\n\r\n\tlet path =\"/dialogs/\" + props.id;\r\n\r\n\treturn(\r\n        <div className={s.dialog + '' + s.active}>\r\n\t\t\t\t\t<NavLink to={path}>{props.name}</NavLink>\r\n\t\t\t\t</div>\r\n\r\n\t\t)\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {required, maxLengthCreator} from '../../../utils/validators/validators';\r\nimport {Textarea} from '../../common/FormsControls/FormsControls';\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst AddMessageForm = (props) =>{\r\n    return(\r\n       <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field \r\n            component={Textarea} \r\n            validate={[required,]}\r\n            name={\"newMessageBody\"} \r\n            placeholder={\"Enter your message\"} />\r\n        </div>\r\n     \r\n        <div>\r\n            <button>Send message</button>\r\n        </div>\r\n    \r\n    </form>\r\n    )\r\n}\r\n\r\nexport default reduxForm({form:\"dialogAddMessageForm\"})(AddMessageForm);","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport {NavLink,Redirect} from 'react-router-dom';\r\nimport Message from './Message/Message';\r\nimport DialogItem from './DialogItem/DiialogItem';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport AddMessageForm from './AddMessageForm/AddMessageForm';\r\n\r\n\r\n\r\nconst Dialogs = (props) => {/*константа отвечающая за отлисовку диалогов*/\r\n     \r\n\r\n    let state = props.dialogsPage;/*получаем dialogsPage из пропсов */\r\n    let dialogsElements = state.dialogs.map( d => <DialogItem  name={d.name}  key={d.id} id={d.id} /> );\r\n    /*получаем диалогайтемсы путем мапинга(перерисовки массива данных в jsx посты)*/\r\n    let massagesElements = state.messages.map( m => <Message message ={m.message} key={m.id} />);\r\n    let newMessageBody = state.newMessageBody; \r\n    let newMessageElement = React.createRef();/*создаем ссылку которая ссылается на текстареа*/\r\n\r\n\r\n    let addNewMessage = (values) => {/*функция добавляет сообщение по срабатыванию onSubmit*/\r\n        props.sendMessage(values.newMessageBody);\r\n    }\r\n\r\n    if (!props.isAuth) return <Redirect to='/login' />;/*проверка на наличие залогиненности для редиректа*/\r\n\treturn(\t   \r\n\t\t<div className={s.dialogs}>\r\n\t\t\t<div className={s.dialogsItems}> \t\t\t\t\r\n                {dialogsElements}              \r\n\t\t\t</div>\r\n\t\t    <div className={s.messages}>         \r\n                {massagesElements}\r\n            <AddMessageForm onSubmit={addNewMessage} />   \r\n           </div>\r\n         </div>\t\t\r\n\t\t)\r\n}\r\n/*обращаемся к AddMessageFormRedux и говорим,когда ты засабмтишься выполни функцию ={}*/\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport Message from './Message/Message';\r\nimport DialogItem from './DialogItem/DiialogItem';\r\nimport {sendMessageCreator} from '../../redux/dialogs-reducer';\r\nimport Dialogs from './Dialogs';\r\nimport {connect} from 'react-redux';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport {compose} from 'redux';\r\n\r\n/*этими двумя функциями мы настраиваем наш connect */\r\nlet mapStateToProps =(state)=>{/* тут присваиваем свойства ,цель-превратить часть стейта в пропсы для компоненты*/\r\n   return {\r\n      dialogsPage: state.dialogsPage\r\n   }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {/*тут передадим коллбеки коллбеки*/\r\n    return {\r\n       sendMessage: (newMessageBody) => { \r\n        dispatch(sendMessageCreator(newMessageBody));      \r\n       }\r\n    }\r\n}\r\n\r\n\r\n/*закомментированная логика ниже заменена на функцию compose*/\r\n\r\n/*let AuthRedirectComponent = withAuthRedirect(Dialogs);/*оборачиваем в хок компоненту Dialogs в хоку будет происходить редирект\r\nна логин если isAuth:false*/\r\n\r\n/*connect-возвращает нам новую контейнерную компоненту*/\r\n/*const DialogsContainer = connect(mapStateToProps,mapDispatchToProps)(AuthRedirectComponent);/*вызываем функцию два раза она создает контейнерную компоненту \r\nи внутри вызывает переданную ей во вторых скобках-презентационную*/\r\n/*библиотека connect вернет нам в этом случае функциональную компоненту для нашей презентационной Dialogs\r\nто есть нам уже не нужно создавать контейнерные компоненты вручную,за нас это сделает connect\r\n\r\nпервым вызовом этой функции мы кк бы настраиваем нашу контейнерную компоненту\r\n\r\nвнутырь презентационной компоненты в качестве пропсов будут переданы f1 f2 \r\nи соответсвенно свойства которые  сидят в этих объектах\r\n*/\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps,mapDispatchToProps),\r\n  withAuthRedirect\r\n  )(Dialogs);/*функция компоуз-берет Dialogs закидывает в withAuthRedirect и полученный результат закидывает в connect*/\r\n"],"sourceRoot":""}