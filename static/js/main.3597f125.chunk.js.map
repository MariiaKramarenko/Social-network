{"version":3,"sources":["api/api.js","redux/dialogs-reducer.js","components/Navbar/Friend/Friend.module.css","components/Users/users.module.css","assets/images/preloader.svg","logo.svg","components/Navbar/Navbar.module.css","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","utils/object-helper.js","redux/users-reducer.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","serviceWorker.js","index.js","components/common/Preloader/Preloader.jsx","components/common/FormsControls/FormControls.module.css","components/common/FormsControls/FormsControls.js","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","assets/images/User.png","components/Header/Header.module.css","hoc/withAuthRedirect.js","redux/profile-reducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","initialState","messages","id","message","dialogs","name","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","Header","props","className","s","header","src","loginBlock","isAuth","onClick","to","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","dispatch","a","resultCode","authReducer","HeaderContainer","this","React","Component","connect","auth","Navbar","nav","item","activeClassName","activeLink","active","href","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","filter","p","map","cn","selectedPage","pageNumber","key","e","User","user","followingInProgress","photos","small","userPhoto","followed","disabled","some","Users","totalUsersCount","users","u","updateObjectArray","items","itemId","objPropName","newObjProps","isFetching","followSuccess","userID","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","count","getUsersSuperSelector","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","Preloader","compose","bind","totalCount","withAuthRedirect","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","validate","required","placeholder","component","Input","error","formSummaryError","length","stopSubmit","_error","formData","console","log","initialized","appReducer","avatars","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sideBar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","promise","Promise","all","MainApp","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","preloader","FormControl","input","meta","child","hasError","touched","formControl","children","Textarea","restProps","value","maxLengthCreator","maxLength","mapStateToPropsForRedirect","RedirectComponent","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.3597f125.chunk.js","sourcesContent":["import * as axios from 'axios';\r\n\r\n\r\nconst instance = axios.create({\r\n      withCredentials:true,\r\n      baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n      headers: {\r\n      \t\"API-KEY\":\"0fcee833-a2f4-404d-9bc5-8e0dcb62bd57\"\r\n      }\r\n\r\n}); /*создаем один конкретный экземпляр аксиоса (инстанс)*/\r\n\r\nexport const usersAPI = {/*вспомогательный объект в кот мы вынесли наши запросы на сервер*/\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n              return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n                 .then(response => {\r\n    \t\t          return response.data\r\n                   }\r\n                 );\r\n    },follow(userId){\r\n             return instance.post(`follow/${userId}`)\r\n    },unfollow(userId){\r\n             return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId){/*сохраняем беэкворккомпатибилити- то есть те запросы кот. были они не сломаются*/\r\n             return profileAPI.getProfile(userId);/*переделегирование*/\r\n    }\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId){\r\n             return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId){/*получаем статую юзера узнаем какого-с помощью айди юзера*/\r\n             return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status){/*как называется параметр в объекте:смотреть апишку в нашем случае status:status*/\r\n             return instance.put(`profile/status/`, {status:status});\r\n    }\r\n}\r\n\r\n\r\nexport const authAPI ={/*объект в апишке отвечающий за запросы для логинизации в соцсети*/\r\n     me(){\r\n            return instance.get(`auth/me`);\r\n    },\r\n     login(email, password, rememberMe = false){/*вместе с post запросом мы отправляем на сервак данные вторым парамером как объект(для put и post мы передаем объект данных)*/\r\n            return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n     logout(){/*вылогиниваемся*/\r\n            return instance.delete(`auth/login`);/*delete запрос удалит на сервере данные логинизации*/\r\n    }\r\n\r\n}\r\n\r\n","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    messages: [\r\n      { id: 1, message: 'hi' },\r\n      { id: 2, message: 'How is you project?' },\r\n      { id: 3, message: 'Yep' }\r\n    ],\r\n    dialogs: [\r\n      { id: 1, name: 'Mariya' },\r\n      { id: 2, name: 'Arek' },\r\n      { id: 3, name: 'Valeriy' },\r\n      { id: 4, name: 'Kostiantym' },\r\n      { id: 5, name: 'Anna' },\r\n      { id: 6, name: 'Ekaterina' }\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {/*передаем стейту его значение начальное!*/\r\n  /*редьюсер для диалогов, возвращает измененный стейт*/\r\n\r\n   \r\n\r\n\tswitch(action.type){/*свич-условие по кейсу action.type*/\r\n        case SEND_MESSAGE:/*если action.type === SEND_MESSAGE то*/\r\n         let body = action.newMessageBody;/*записываем в body значение введенного сообщения*/\r\n         return {\r\n         ...state,\r\n         messages : [...state.messages, {id:4, message: body}]/*а тут нам нужна так же копия сооьщений так как мы их тут добавляем*/\r\n         };/*вместо push мы просто пишем через запятую то что мы добавляем в конец*/\r\n        \r\n\t    default:/*длля свича по дефолту обязателньо значение - ретурним стейт так как он может быть возвращен и неизмененным*/\r\n    return state;\r\n}\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) =>({type:SEND_MESSAGE, newMessageBody})/*экшнкриэйтор для отправки сообщения*/\r\n\r\n\r\nexport default dialogsReducer;\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__zzoP5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__3_Mwe\",\"selectedPage\":\"users_selectedPage__2VXIp\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.22f28919.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.25bf045c.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__ZpdK4\",\"item\":\"Navbar_item__3m2r0\",\"activeLink\":\"Navbar_activeLink__33nYK\"};","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\n\r\nconst Header = (props) =>{\r\n\treturn(\r\n       <header className={s.header}>\r\n      \t<img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRjPhCc0g7DjgtJV7qybb8wPTTWoaJMKhcdkwP7SyZFCLGlimEk\" />\r\n        \r\n        <div className={s.loginBlock}>\r\n        {props.isAuth \r\n        \t? <div> {props.login}  - <button onClick={props.logout}>Log out</button></div>\r\n        \t: <NavLink to={'login/'}> Login </NavLink> }\r\n\r\n        </div>\r\n      </header>  \r\n\t\t)\r\n}\r\n\r\nexport default Header;","import {authAPI} from '../api/api.js';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\n//редьюсер авторизации в нашем приложении\r\n\r\nconst SET_USER_DATA = 'my-first-network/auth/SET_USER_DATA';//уникализируем путь для срабатывания action\r\n\r\n\r\nlet initialState = {//начальный стейт с данными для авторизации в приложении\r\n   userId:null ,\r\n   email:null ,\r\n   login:null ,\r\n   isAuth:false\r\n\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {//компонента-редьюсер\r\n/*всегда все данные которые нужны для преобразования в reducer всегда лежат в action!*/\r\n\tswitch(action.type){    \r\n\t\tcase SET_USER_DATA :{\r\n          return {\r\n           ...state,\r\n           ...action.payload, /*перезатрем таким образом те данные  userId:null , email:null ,login:null  которые сидят в стейте*/\r\n          };/*сделаем data объектом с этитими данными см. ниже */\r\n        }\r\n\r\n\t    default:\r\n    return state;\r\n}\r\n}\r\n\r\nexport const setAuthUserData = (userId,email,login,isAuth) =>({type:SET_USER_DATA, payload: {userId,email,login,isAuth} })/*экшнкриэйтор для отправки сообщения*/\r\n\r\n\r\n\r\n\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {/*санк-криейтор для получения данных о залогиненном юзере*/\r\n   /*помним что как результат работы асинхронной функции вернется промис*/\r\n   let response = await authAPI.me();/*запрос на сервер на me, ожидаем промис с пом await*/\r\n     /*присваиваем переменной rensponse тот response кот вернул нам await*/\r\n    if(response.data.resultCode === 0 ){/*если от сервера пришел ответ 0 значит успешен запрос*/\r\n      let {id,email,login} = response.data.data;/*а значит что мы  берем все данные из респонса сервера и диспатчим(вызываем)их установку*/\r\n    dispatch(setAuthUserData(id,email,login,true));/*напомню что setAuthUserData записывает в state пришедшие ему данные юзера (мы логинимся в апишке и там в куке они сидят) */\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {/*санк-криейтор для получения данных для входа(логина)*/\r\n   /*!!!!!!!!!!!ВАЖНО: функция кот содержит await должна быть async!!!!!!!!!!*/\r\n   let response = await authAPI.login(email, password, rememberMe);/*запрос на сервер на login и передаем данные для логинизации*/\r\n    /*присваиваем переменной rensponse тот response кот вернул нам await*/\r\n    if(response.data.resultCode === 0 ){/*если от сервера пришел ответ 0 значит успешен запрос*/\r\n      dispatch(getAuthUserData())/*диспатчим getAuthUserData кот. получает данные*/\r\n    } else{/*обработка ввода неверных данных в форму логина*/\r\n      let messages = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";/*берем значение строчное ошибки из данных от сервера,там они сидят в []*/\r\n    /*берем первое значение сообщения обошибке(приходит от сервера и на всякий случай ставим свою надпись об ошибке*/\r\n    dispatch(stopSubmit(\"login\", {_error: messages}));/*первое значение-какую форму мы останавливаем на проверку(_error-значение для всех полей общее),второй парам- объект с проверяемыми значениями(поля формы)*/\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const logout = () => async (dispatch) => {/*санк-криейтор для вылогинизации из соцсети*/\r\n   let response = await authAPI.logout();/*запрос на сервер на logout и запись зарезолвенного прописа в response*/\r\n/*в ответе (респонсе) от сервера сидят даннные*/\r\n    if(response.data.resultCode === 0 ){/*если от сервера пришел ответ 0 значит успешен запрос*/\r\n        dispatch(setAuthUserData(null,null,null,false));/*зануляем все поля с данныеми когда вылогиниваемся*/\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default authReducer;\r\n\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport {connect} from 'react-redux';\r\nimport {logout} from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {/*классовая компонента Header*/\r\n\r\n     render () { /*вызываем компоненту Header*/\r\n        return  <Header {...this.props} />\r\n\t\t\r\n     }\t\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) =>({/*передаем данной компоненте isAuth и login как пропсы*/\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\n\r\n\r\nexport default connect (mapStateToProps, {logout}) (HeaderContainer);","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport Friend from './Friend/Friend';\r\n\r\nconst Navbar = (props) => {\r\n\r\n  return (\r\n          <nav className={s.nav}>\r\n             <div className={s.item}>\r\n                   <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n             </div>\r\n             <div className={ `${s.item} ${s.active}` }>\r\n                   <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n             </div>\r\n             <div className={s.item}>\r\n                    <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n             </div>\r\n             <div className={s.item}>\r\n                   <a href=\"#\">News</a>\r\n             </div>\r\n             <div className={s.item}>\r\n                   <a href=\"#\">Music</a>\r\n             </div>\r\n             <div className={s.item}>\r\n                   <a href=\"#\">Settings</a>\r\n             </div>\r\n         </nav>\r\n\r\n    )\r\n}\r\n\r\nexport default Navbar;\r\n\r\n","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);//переменная с количеством страниц пользователей\r\n\r\n    let pages = [];//массив с пользователями\r\n    for (let i = 1; i <= pagesCount; i++) {//вывод пользователей через цикл for (увеличиваем каждую последующую страницу и пушим ее)\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);//рассчет порции кот будет видна нам в виде пагинации\r\n    let [portionNumber, setPortionNumber] = useState(1);//используем хук useState чтобы portionNumber - номер порции\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;//определяем значение левой кнопки порции страниц\r\n    let rightPortionPageNumber = portionNumber * portionSize;//определяем значение правой кнопки порции страниц\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        { portionNumber > 1 && //если номер порции больше 1 тогда показываем кнопку PREV -которая переключает на предыдущую порцию\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages //выводим номера страничек с пользователями\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)//фильтруем левый и правы номера страниц\r\n                .map((p) => {//если номер больше либо равен числу левого номера порции и меньше или равен правого числа номера порции\r\n                return <span className={ cn({//тогда возвращаем span кот содержит стили и если фильтрация вернула true то \r\n                    [styles.selectedPage]: currentPage === p//текущая страница равна той что фильтруется\r\n                }, styles.pageNumber) }\r\n                             key={p}//применяем обязательно key\r\n                             onClick={(e) => {//добавляем функцию кот по клику показывает пользователей текущей страницы\r\n                                 onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n                { portionCount > portionNumber && //когда  тогда показываем кнопку NEXT-кот переключает на следующую порцию с пользователями\r\n    <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n\r\n    </div>\r\n\r\n}\r\n\r\nexport default Paginator; ","import React from 'react';\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/User.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\nreturn (\r\n<div>\r\n  <span>\r\n    <div>\r\n      <NavLink to={'/profile/' + user.id}>\r\n        <img src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.userPhoto}/>\r\n      </NavLink>\r\n    </div>\r\n    <div>\r\n      {user.followed\r\n      ? <button disabled={followingInProgress\r\n      .some(id => id === user.id)}\r\n      onClick={() => { unfollow(user.id) }}>\r\n      Unfollow</button>\r\n      : <button disabled={followingInProgress.some(id => id === user.id)}\r\n      onClick={() => { follow(user.id) }}>\r\n      Follow</button>}\r\n    </div>\r\n  </span>\r\n\r\n  <span>\r\n    <span>\r\n      <div>{user.name}</div>\r\n      <div>{user.status}</div>\r\n    </span>\r\n    <span>\r\n      <div>{\"user.location.country\"}</div>\r\n      <div>{\"user.location.city\"}</div>\r\n    </span>\r\n  </span>\r\n  \r\n</div>)\r\n}\r\nexport default User;","import React from 'react';\r\nimport userPhoto from '../../../src/assets/images/User.png';\r\nimport {NavLink} from 'react-router-dom';\r\nimport * as axios from 'axios';\r\nimport {usersAPI} from '../../api/api.js';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n    return <div>\r\n        \r\n        <div>\r\n             {\r\n                users.map(u => <User user={u}\r\n                                     followingInProgress={props.followingInProgress}\r\n                                     key={u.id}\r\n                                     unfollow={props.unfollow}\r\n                                     follow={props.follow}\r\n                    />\r\n                )\r\n            }\r\n        </div>\r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n                   totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n            </div>\r\n}\r\nexport default Users;\r\n","//вспомогательна функция кот помогает иммутабельно изменить объект\r\nexport const updateObjectArray = (items, itemId, objPropName, newObjProps) =>{\r\n\r\nreturn items.map(u => {\r\n\t\tif (u[\"objPropName\"] === itemId){//если найдется совпадение по objPropName из объекта u \r\n\t\t   \t \treturn {...u, ...newObjProps}//тогда создастся копия объекта измененного и заменятся старые свойства прокидованием(деструктуризацией)\r\n\t\t}\r\n\t\treturn u;\r\n\t})\r\n}","import {usersAPI} from '../api/api.js';\r\nimport {updateObjectArray} from '../utils/object-helper.js';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 5,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage:1,\r\n\tisFetching:true,\r\n\tfollowingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => \r\n{\r\n\tswitch (action.type){\r\n\t\tcase FOLLOW : \r\n\t\t   return {/*делаем копию стейта для наших с ним преобразований*/\r\n\t\t   \t...state,\r\n        users: updateObjectArray(state.users, action.userID, \"id\", {followed: true} )\r\n        //users: state.users.map(u => {//users:[...state.users],/*записи идентичны с map()*/\r\n\t\t   \t \t//if (u.id === action.userID){/*если Id совпадает с экшеном то мы должны изменить наш объект (создать копию и изменить)*/\r\n\t\t   \t \t//\treturn {...u, followed: true}/*делаем ккопию и меняем в ней нужное значение*/\r\n\t\t   \t //\t}\r\n\t\t   \t //\treturn u;\r\n\t\t   \t// })/*с помощью мапа создаем новый массив эл-тами которого будут все те же юсерсы*/\r\n\r\n\t\t   \t  }\r\n\r\n\r\n\t\tcase UNFOLLOW :  \r\n              return {\r\n\t\t   \t...state,\r\n        users:  updateObjectArray(state.users, action.userID, \"id\", {followed: false} )\r\n        // users: state.users.map(u => {\r\n\t\t   \t //\tif (u.id === action.userID){\r\n\t\t   \t //\t\treturn {...u, followed: false}\r\n\t\t   \t \t//}\r\n\t\t   \t \t//return u;\r\n\t\t   \t// })\r\n\t\t   \t  }\r\n\r\n\t\tcase SET_USERS: /*устанавливаем пользователей*/\r\n\t\treturn {...state, users: action.users \r\n\t\t\t/*берем старых пользователей и меняем их на новых тех,кот пришли из экшена -добавляем в конец*/\r\n\t\t}\r\n\r\n        case SET_CURRENT_PAGE: \r\n          return {...state, currentPage: action.currentPage\r\n          }\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n        return {...state, totalUsersCount:action.count\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n        return{\r\n            ...state, isFetching:action.isFetching\r\n        }\r\n        \r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n        return {\r\n            ...state,\r\n            followingInProgress: action.isFetching \r\n            ? [...state.followingInProgress, action.userID]\r\n            : state.followingInProgress.filter(id => id != action.userID)\r\n        }\r\n\r\n\t\tdefault:\r\n\t\treturn state;\r\n\t}\r\n}\r\n\r\n\r\nexport const followSuccess = (userID) => ( { type: FOLLOW, userID } )/*экшнкриейтор для добавления в друзья пользователя*/\r\n/*userID нам нужен чобы знать,какого именно пользователя нам нужно добавить/удалить*/\r\nexport const unfollowSuccess = (userID) => ( { type: UNFOLLOW, userID } )/*экшнкриейтор для удаления из друзей пользователя*/\r\nexport const setUsers = (users) =>( {type: SET_USERS, users} )/*экшн установления юзеров*/\r\nexport const setCurrentPage = (currentPage) => ( {type:SET_CURRENT_PAGE, currentPage } )/*экшн кот меняет странички*/\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count:totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type:TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userID) => ({type:TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userID})\r\n\r\n\r\nexport const getUsers = (currentPage,pageSize) => {/*санк креатор-возвращает санку*/\r\n    return  async (dispatch) => {/*санка*/\r\n        dispatch(toggleIsFetching(true));/*диспатчим вызов экшн криетора  доступный из замыкания*/\r\n        dispatch(setCurrentPage(currentPage));\r\n            let data = await usersAPI.getUsers(currentPage, pageSize);/*в response приходит ответ от сервера */\r\n     \t  dispatch(toggleIsFetching(false));/*закончился тогглинг -диспатчим вызов экшн криетор с переданным параметром*/\r\n        dispatch(setUsers(data.items));/*диспатчим юзеров в стейт-берется из замыкания*/\r\n        dispatch(setTotalUsersCount(data.totalCount));/*сетаем тотал каун юзер-из замыкания берем*/\r\n/*data.items-это наши юзеры*/\r\n}\r\n}\r\n/////////////////ОБЩАЯ ФУНКЦИЯ ДЛЯ FOLLOW/UNFOLLOW -избавляемся от дублирования//////////////////\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) =>{\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n              let response = await apiMethod(userId);\r\n               if(response.data.resultCode == 0){\r\n               dispatch(actionCreator(userId));\r\n               }\r\n               dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {/*санк креатор-возвращает санку*/\r\n    return  async (dispatch) => {/*санка*/\r\n      followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);  \r\n}\r\n}\r\n\r\nexport const unfollow = (userId) => {/*санк креатор-возвращает санку*/\r\n/*дожидаться промис когда зарезолвится мы можем только в асинхронных функциях!*/\r\n    return  async (dispatch) => {/*санка*/\r\n      followUnfollowFlow(dispatch, userId,  usersAPI.unfollow.bind(usersAPI),unfollowSuccess); \r\n}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default usersReducer;","import {createSelector} from \"reselect\";\r\n//селекторы упрлщают последующие изменения данных то есть \r\n//грубо говоря даные кот нужно менять нужно будет изеннить только в одном месте-в селеторе\r\n//селектор-функция кот принимает стейт и возвращает чтото из него\r\n//проблема селекторов-частые перевызовы так как mapStateToProps постоянно обновляется\r\n//для этого на помощь приходит reselect - передаем зависимости на которые будет реагировать селектор если они поменялись и тогда перерисовываться\r\nexport const getUsersAll = (state) =>{/*примитивный селектор*/\r\n\treturn state.usersPage.users;\r\n}\r\n\r\n/*селектор,созданный с помощью библиотеки reselect*/\r\nexport const getUsersSuperSelector = createSelector(getUsersAll,(users)=>{/*первый параметр-селектор,кот ипользуется чтобы получить users*/\r\n    return users.filter(u => true);//то есть если users изменился тогда срабатывает фильтрация\r\n})\r\n\r\nexport const getPageSize = (state) =>{\r\n\treturn state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) =>{\r\n\treturn state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) =>{\r\n\treturn state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) =>{\r\n\treturn state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) =>{\r\n\treturn state.usersPage.followingInProgress;\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport Users from './Users.jsx';\r\nimport {connect} from 'react-redux';\r\nimport {follow, unfollow,setCurrentPage,toggleFollowingProgress, getUsers} from '../../redux/users-reducer';\r\nimport Preloader from '../common/Preloader/Preloader.jsx';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport {compose} from 'redux';\r\nimport {getPageSize, getUsersAll, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress} from '../../redux/users-selectors';\r\nimport {getUsersSuperSelector} from '../../redux/users-selectors.js';\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n  /*constructor (props) {\r\n     super(props);} конструктор главной компоненты происходит по умолчанию*/\r\n\r\n    componentDidMount() {\r\n      this.props.getUsers(this.props.currentPage, this.props.pageSize);/*помним,что сюда попадает имнно коллбек!а не сам санккреетор,все за счет connect()()*/\r\n    \r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {/*брем текущую страницу с сервера*/\r\n      this.props.getUsers(pageNumber, this.props.pageSize);\r\n    \r\n    }\r\n\r\n    render () {\r\n   return <div>\r\n                {this.props.isFetching ? <Preloader /> : null } \r\n\r\n                <Users totalUsersCount={this.props.totalUsersCount} \r\n                 pageSize={this.props.pageSize}\r\n                 currentPage={this.props.currentPage}\r\n                 onPageChanged={this.onPageChanged}\r\n                 users={this.props.users}\r\n                 follow={this.props.follow}\r\n                 unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n                 /> \r\n                \r\n          </div>\r\n          }\r\n  }\r\n\r\n/*let mapStateToProps = (state) => {/*функция принимает весь глобальный state и возвращает объект только стеми данными которые нам реально нужны */\r\n    /*return {\r\n       users: state.usersPage.users,/* мы внедряем юзеров в стейт и тогда он нам возвращается (flux) и мы их отрисовываем мы возвращаем наш список пользователей из стейта*/\r\n       /*pageSize:state.usersPage.pageSize,/*получаем значение в компоненту через пропсы из редьюсера*/\r\n       /*totalUsersCount:state.usersPage.totalUsersCount,/*получаем значение в компоненту через пропсы из редьюсера*/\r\n       /*currentPage:state.usersPage.currentPage,/*получаем значение в компоненту через пропсы из редьюсера*/\r\n       /*isFetching: state.usersPage.isFetching,/*просовываем значение*/\r\n       /*followingInProgress: state.usersPage.followingInProgress\r\n    }\r\n    /*поэтому в Users в пропсах будет сидеть users*/\r\n/*}*/\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n       //users: getUsersAll(state),\r\n       users:getUsersSuperSelector(state),/*вызываем селектор,созданный с помощью reselect*/\r\n       pageSize:getPageSize(state),\r\n       totalUsersCount:getTotalUsersCount(state),\r\n       currentPage:getCurrentPage(state),\r\n       isFetching:getIsFetching(state),\r\n       followingInProgress:getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default  compose(\r\n  connect(mapStateToProps,{/*все это попадает в пропсы-коннтект создает пропсы и коллбеки данной компоненте*/\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        toggleFollowingProgress,\r\n        getUsers\r\n    }),\r\n  withAuthRedirect\r\n  )(UsersContainer);\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {Input} from '../common/FormsControls/FormsControls';\r\nimport {required} from '../../utils/validators/validators';\r\nimport {connect} from 'react-redux';\r\nimport {login} from '../../redux/auth-reducer';\r\nimport {Redirect} from 'react-router-dom';\r\nimport styles from \"./../common/FormsControls/FormControls.module.css\";\r\n/*Field-компонента,пришедшая к нам их редакс-форм\r\nname-считывает введенные значение и называет данный инпут\r\ncomponent-обозначает тип \r\nhandleSubmit-обрабатывает форму,приходит из пропсов которые прокидывает хок reduxForm ()()\r\n*/\r\nconst LoginForm = (props) => {\r\n  return <form onSubmit={props.handleSubmit} >\r\n        <div>\r\n          <Field validate={[required]} placeholder={\"Email\"} name={\"email\"} component={Input} />\r\n        </div>\r\n        <div>\r\n          <Field  validate={[required]} placeholder={\"Password\"} name={\"password\"} type={\"password\"} component={Input}/>\r\n        </div>\r\n        <div>\r\n          <Field type={\"checkbox\"} name={\"rememberMe\"} component={Input} /> remember me\r\n        </div>\r\n        { props.error && <div className={styles.formSummaryError}>{props.error}</div>}\r\n        <div>  \r\n          <button>Login</button>\r\n        </div>\r\n      </form>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({/*вызываем хок -см документацию*/\r\n      form: 'login' /*уникальное имя для данной формы*/\r\n})(LoginForm)/*второй парметр- форма,вокруг которой этот хок создаст контейнерную компоненту*/\r\n\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) =>{/*сюда прийдут все значения из формы*/\r\n        console.log(formData);/*выведем для наглядности данные кот попадают в formData*/\r\n        props.login(formData.email, formData.password, formData.rememberMe);/*вызываем логинизатор-коллбек, раскукожили formData - все эти параметры сидят в ней (см. f12)*/\r\n  }\r\n\r\n  if (props.isAuth){\r\n    return <Redirect to={\"/profile\"} />\r\n  }\r\n  return <div>\r\n        <h2>LOGIN</h2>\r\n          <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n}\r\n\r\nconst mapStateToProps = (state) =>({\r\n  isAuth:state.auth.isAuth\r\n})\r\nexport default connect(mapStateToProps, {login} ) (Login);/*null-потому что нет mapStateToProps , {Login}-коллбек кот диспатчит вызов санккриетора*/","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n//редьюсер инициализации всего приложения\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false//начальное значение инициализации\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {// компонента-редьюсер кот проверяет значение initialized\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])//если все промисы пришли успешно то диспатчим initializedSuccess кот возыращает значение true\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n}\r\n\r\n\r\nexport default appReducer;","let initialState = {\r\n    avatars: [\r\n     {id: 1, src: 'https://image.flaticon.com/icons/svg/145/145843.svg',  name: 'Vasyl' },\r\n     {id: 2, src: 'https://image.flaticon.com/icons/svg/145/145847.svg',  name: 'Mariia' },\r\n     {id: 3, src: 'https://image.flaticon.com/icons/svg/145/145846.svg',  name: 'Arek' },\r\n     {id: 4, src: 'https://image.flaticon.com/icons/svg/145/145844.svg',  name: 'Ekaterina' }]\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) =>{\r\n\treturn state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";/*импортируем из библиотеки редакс*/\r\nimport profileReducer from \"./profile-reducer.js\";/*импортируем редьюсеры*/\r\nimport dialogsReducer from \"./dialogs-reducer.js\";\r\nimport sidebarReducer from \"./sidebar-reducer.js\";\r\nimport usersReducer from \"./users-reducer.js\";\r\nimport authReducer from \"./auth-reducer.js\";\r\nimport thunkMiddleware from \"redux-thunk\";/*Middleware импорт слоя для обработки санок*/\r\nimport { reducer as formReducer} from \"redux-form\";/*импорт редьюсера для создания форм*/\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({/*это как бы наш стейт и каждый редьюсер для каждой странички*/\r\n     profilePage: profileReducer,\r\n     dialogsPage: dialogsReducer,\r\n     sideBar: sidebarReducer,\r\n     usersPage: usersReducer,\r\n     auth: authReducer,\r\n     form: formReducer, /*здесь должно быть написано именно form*/\r\n     app: appReducer/*привязываем странице его редьюсер*/\r\n     \r\n\r\n});/*функция склеивания/смешивания редьюсеров*/\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers,  composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />} >\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    };\r\n}","import React from 'react';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\r\nimport {Route, withRouter, HashRouter} from 'react-router-dom';\r\nimport Login from './components/Login/Login';\r\nimport {connect, Provider} from 'react-redux';\r\nimport {getAuthUserData} from './redux/auth-reducer';\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\n\r\nclass App extends React.Component {\r\n\r\ncomponentDidMount() {//проверяем инициализацию всего приложения через initializeApp кот находится в app-reducer\r\n        this.props.initializeApp();\r\n}\r\n\r\n render() {//составим условие для инициализации приложения\r\n          if (!this.props.initialized) {//если инициализация вернула false тогда высвечиваем прокрутку(прелоадер компонента)\r\n            return <Preloader/>\r\n        }\r\n\r\n  return (\r\n\r\n    <div className=\"app-wrapper\">\r\n      <HeaderContainer />\r\n      <Navbar />\r\n      <div className=\"app-wrapper-content\">\r\n        <Route path='/profile/:userID?'  render={withSuspense(ProfileContainer)}  />\r\n\r\n        <Route path='/dialogs'  render={withSuspense(DialogsContainer)} />\r\n        \r\n        <Route path='/users' render={ () => <UsersContainer />} />\r\n        \r\n        <Route path='/login' render={ () => <Login />} />\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n}\r\n}\r\nconst mapStateToProps = (state) => ({//прокидываем пропсами значение initialized для того чтобы сделать инициализацию\r\n    initialized: state.app.initialized\r\n})\r\nlet AppContainer = compose(connect(mapStateToProps, {initializeApp}))(App);//композим результат и записываем в переменную\r\n\r\nconst MainApp = (props) => {\r\n   return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer />\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\n\r\nexport default MainApp;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport MainApp from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n<MainApp/>\r\n, document.getElementById('root'));\r\n\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport preloader from '../../../assets/images/preloader.svg';\r\n\r\nlet Preloader = (props) => {\r\n     return <div ><img src={preloader} /></div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2CS0L\",\"error\":\"FormControls_error__2JS-z\",\"formSummaryError\":\"FormControls_formSummaryError__3utcW\"};","import React from 'react';\r\nimport styles from './FormControls.module.css'\r\n\r\n\r\nexport const FormControl = ({input, meta, child, ...props}) => {\r\n      const hasError = meta.touched && meta.error; /*это приходит из пропсов валилатора,см документацию*/\r\n    /*если есть ошибка в ответа пропсов,то покажем красный спан надпись Error*/\r\n\treturn (\r\n\t\t<div className= {styles.formControl + \" \" + (hasError ? styles.error : \" \")}>\r\n\t\t\t<div>\r\n\t\t\t{props.children}\r\n\t\t\t</div>\r\n\t\t\t{ hasError && <span>{meta.error}</span>}\r\n\t\t</div>\r\n\t\t)\r\n}\r\n\r\n/*убираем дублирующийся код, делаем главную компоненту FormControl и ей передаем чайлдов \r\nв Textarea засовываем главную FormControl и передаем ей как чайлда textarea\r\n*/\r\n\r\nexport const Textarea = (props) => {/*Textarea является оберткой над FormControl*/\r\n\tconst {input, meta, child, ...restProps} = props;\r\n\treturn <FormControl {...props}><textarea {...input} {...restProps}/> </FormControl>\r\n}\r\n\r\nexport const Input = (props)=> {\r\n\tconst {input, meta, child, ...restProps} = props;\r\n\treturn <FormControl {...props}><input {...input} {...restProps}/> </FormControl>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1UkRB\",\"pageNumber\":\"Paginator_pageNumber__arbOS\",\"selectedPage\":\"Paginator_selectedPage__1ZVes\"};","export const required = value =>{ /*валидация на пустое поле*/\r\n\tif(value) return undefined;\r\n\r\n\treturn \"Field is required\";\r\n}\r\n/*maxLengthCreator - криетор валидатора,поэтому вызывая в компоненте в () передадим значение максимальной длины строк*/\r\nexport const maxLengthCreator = (maxLength) => (value) =>{/*валидатор на максимальное количество введенных знаков*/\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n\r\n}","module.exports = __webpack_public_path__ + \"static/media/User.4e76d415.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3gLTs\",\"loginBlock\":\"Header_loginBlock__3Nzi1\"};","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\n/*суть хока-возвращаем один и тот же хок для разных компонент которые приходят в него как целевые*/\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({/*пропсы для хока прокинули внутрь хока*/\r\n    isAuth:state.auth.isAuth/*пропсы для проверки авторизован/неавторизован*/\r\n});\r\n\r\nexport const withAuthRedirect =(Component)=>{/*функция кот принимает в себя компоненту кот будет отрисована*/\r\n     \r\n     class RedirectComponent extends React.Component {/*создаем внутри класс */\r\n     \trender(){/*внутри класса делаем логику редиректа*/\r\n     \t\tif(!this.props.isAuth) return <Redirect to='/login' />\r\n             return <Component {...this.props} />/*отрисовывание компоненты и прокидывание в нее пропсов*/\r\n     }\r\n }\r\nlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);/*конектим пропсы к хоку */\r\nreturn ConnectedAuthRedirectComponent;/*ретурним уже законнекченную компоненту как переменную*/\r\n}\r\n\r\n/*если в пропсах isAuth равен false то ретурим \r\nредирект компоненту Redirect на страницу login*/","import {usersAPI, profileAPI}from '../api/api.js';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';//делаем action.type для TDD-test\r\n\r\nlet initialState = {/*инициализируемый стейт-то есть тот что передается при входе*/\r\n    posts:[\r\n      {id:1, message:'Hi! How are you?', likesCount:'0'},\r\n      {id:2, message:'Good day!', likesCount:'10'}\r\n      ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\n\r\n\r\nconst profileReducer = (state = initialState , action) => {\r\n\tswitch (action.type ){\r\n\r\n     case ADD_POST:{\r\n\r\n         let newPost = {\r\n          id:5,\r\n          message: action.newPostText,\r\n          likesCount: 0\r\n      };\r\n\r\n      return {\r\n        ...state, \r\n        posts: [...state.posts, newPost]\r\n      };\r\n      }\r\n     case SET_USER_PROFILE: {\r\n          return {...state, profile: action.profile/*меняем значение профайла на то что пришло из экшна*/\r\n          }; \r\n          }\r\n      case SET_STATUS: {\r\n          return{...state,status:action.status};/*меняем значение статуса на то кот пришло из экшна*/\r\n      }\r\n      case DELETE_POST: {\r\n          return {...state, posts: state.posts.filter(p => p.id != action.postId)}; \r\n      }\r\n          \r\n      default:\r\n          return state;\r\n}\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})/*экшнкриейтор кот возвращает тип экшена ADD_POST*/\r\n\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\n\r\nexport const setStatus = (status) => ({type:SET_STATUS, status})/*экшнкриетор для установки статуса*/\r\n\r\nexport const deletePost = (postId) =>({type:DELETE_POST, postId})//делаем actionCreator для TDD-test\r\n\r\nexport const getUserProfile = (userID) => async (dispatch) =>{/*санккриейтор  возвращает санкудля получения профиля юзера*/\r\n          let response = await usersAPI.getProfile(userID);\r\n           dispatch(setUserProfile(response.data));\r\n\r\n}\r\n\r\nexport const getStatus = (userID) => async (dispatch) => {/*санккриетор для получения статуса юзера*/\r\n    let response = await profileAPI.getStatus(userID);/*обращаеся к апишке профайла и получаем статус с сервера*/\r\n      dispatch(setStatus(response.data));/*сетаем полученный статус*/\r\n  \r\n}\r\n\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {/*санккриетор для обновления статуса юзера*/\r\n    let response = await profileAPI.updateStatus(status);/*обращаеся к апишке профайла*/\r\n      if(response.data.resultCode === 0){/*если ответ от сервера без ошибки то делаем диспатч сетстатуса*/\r\n      dispatch(setStatus(status));/*диспатчим сет статус c переданным значением*/\r\n   \r\n}\r\n}\r\nexport default profileReducer;"],"sourceRoot":""}